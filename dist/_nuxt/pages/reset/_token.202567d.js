(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1005:function(t,n,r){"use strict";r.r(n);var e=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"banner"},[e("div",{staticClass:"banner__top"},[e("div",{staticClass:"banner__top-logo"},[e("img",{attrs:{src:r(340),alt:"PSA"}})]),t._v(" "),e("div",{staticClass:"banner__top-title"},[t._v("Parenting Social Association")])]),t._v(" "),e("div",{staticClass:"banner__bottom"},[e("img",{attrs:{src:r(963),alt:"PSA login banner"}})])])}],o=r(20),l=(r(57),r(198),{layout:"auth",data:function(){var t=this;return{btnLoading:!1,form:{password:"",confirmPassword:""},rules:{password:{required:!0,message:this.$t("Vui lòng nhập mật khẩu")},confirmPassword:[{validator:function(n,r,e){r!==t.form.password?e(new Error(t.$t("Mật khẩu không trùng khớp!"))):e()},trigger:"change"},{required:!0,message:this.$t("Vui lòng nhập lại mật khẩu!")}]}}},head:function(){return{title:this.$t("Đặt lại mật khẩu")+" | PSA "}},beforeCreate:function(){this.$auth.loggedIn&&this.$router.push("/")},methods:{handleSubmit:function(){var t=this;this.$refs.ruleForm.validate(function(){var n=Object(o.a)(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=14;break}return n.prev=1,t.btnLoading=!0,n.next=5,t.$axios.$post("api/auth/resetPassword/"+t.$route.params.token,{password:t.form.password,confirmPassword:t.form.confirmPassword});case 5:n.sent.success&&(t.$notification.success({message:t.$t("Thông báo"),description:t.$t("Thay đổi thành công")}),setTimeout((function(){t.$router.push("/login")}),500)),t.btnLoading=!1,n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),t.btnLoading=!1,t.$notification.error({message:t.$t("Thông báo"),description:t.$t("Đã có lỗi không mong muốn xảy ra")});case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(t){return n.apply(this,arguments)}}())}}}),c=l,m=r(27),component=Object(m.a)(c,(function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"login"},[r("div",{staticClass:"login-contain container"},[t._m(0),t._v(" "),r("div",{staticClass:"form-contain"},[r("h1",{staticClass:"title"},[t._v(t._s(t.$t("Đặt lại mật khẩu")))]),t._v(" "),r("a-form-model",{ref:"ruleForm",staticClass:"form",attrs:{model:t.form,rules:t.rules}},[r("a-form-model-item",{ref:"password",staticClass:"form__item",attrs:{label:t.$t("Mật khẩu mới"),prop:"password"}},[r("a-input-password",{attrs:{placeholder:t.$t("Nhập mật khẩu mới")},on:{keypress:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.handleSubmit()}},model:{value:t.form.password,callback:function(n){t.$set(t.form,"password",n)},expression:"form.password"}})],1),t._v(" "),r("a-form-model-item",{ref:"confirmPassword",staticClass:"form__item",attrs:{prop:"confirmPassword","has-feedback":"",label:t.$t("Xác nhận mật khẩu mới")}},[r("a-input-password",{attrs:{name:"confim",placeholder:t.$t("Nhập lại mật khẩu mới")},on:{keypress:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.handleSubmit()}},model:{value:t.form.confirmPassword,callback:function(n){t.$set(t.form,"confirmPassword",n)},expression:"form.confirmPassword"}})],1),t._v(" "),r("a-form-model-item",{staticClass:"back-login"},[r("nuxt-link",{staticStyle:{"font-size":"16px"},attrs:{to:"/login"}},[r("a-icon",{attrs:{type:"arrow-left"}}),t._v("\n            "+t._s(t.$t("Trở về đăng nhập"))+"\n          ")],1)],1),t._v(" "),r("a-form-model-item",[r("a-button",{staticClass:"form-btn",attrs:{type:"primary",loading:t.btnLoading},on:{click:function(n){return t.handleSubmit()}}},[t._v("\n            "+t._s(t.$t("Gửi"))+"\n          ")])],1)],1)],1)])])}),e,!1,null,null,null);n.default=component.exports},963:function(t,n,r){t.exports=r.p+"img/banner-login.2a14836.png"}}]);