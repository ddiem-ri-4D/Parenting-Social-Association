(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{963:function(t,n,e){t.exports=e.p+"img/banner-login.2a14836.png"},986:function(t,n,e){"use strict";e.r(n);var o=[function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"banner"},[o("div",{staticClass:"banner__top"},[o("div",{staticClass:"banner__top-logo"},[o("img",{attrs:{src:e(340),alt:"PSA"}})]),t._v(" "),o("div",{staticClass:"banner__top-title"},[t._v("Parenting Social Association")])]),t._v(" "),o("div",{staticClass:"banner__bottom"},[o("img",{attrs:{src:e(963),alt:"PSA login banner"}})])])}],r={layout:"auth",data:function(){return{btnLoading:!1,form:{email:""},rules:{email:[{type:"email",message:this.$t("Vui lòng nhập đúng định dạng email")},{required:!0,message:this.$t("Vui lòng nhập email")}]}}},head:function(){return{title:this.$t("Quên mật khẩu")+" | PSA "}},beforeCreate:function(){this.$auth.loggedIn&&this.$router.push("/")},methods:{handleSubmit:function(){var t=this;this.$refs.ruleForm.validate((function(n){if(n){t.btnLoading=!0;var e=window.location.protocol+"//"+window.location.host+"/reset";t.$axios.$post("api/auth/lostPassword",{email:t.form.email,uri:e}).then((function(n){t.btnLoading=!1,n.success&&(t.form.email="",t.$notification.success({message:t.$t("Thông báo"),description:t.$t("Mật khẩu mới đã được gửi về email của bạn, Vui lòng kiểm tra email")}))})).catch((function(n){t.btnLoading=!1,404===n.response.status?t.$notification.error({message:t.$t("Thông báo"),description:t.$t("Email không chính xác")}):t.$notification.error({message:t.$t("Thông báo"),description:t.$t("Đã có lỗi không mong muốn xảy ra")})}))}}))}}},l=e(27),component=Object(l.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"login"},[e("div",{staticClass:"login-contain container"},[t._m(0),t._v(" "),e("div",{staticClass:"form-contain"},[e("h1",{staticClass:"title"},[t._v(t._s(t.$t("Quên mật khẩu")))]),t._v(" "),e("a-form-model",{ref:"ruleForm",staticClass:"form",attrs:{model:t.form,rules:t.rules}},[e("a-form-model-item",{ref:"email",staticClass:"form__item",attrs:{label:t.$t("Email"),prop:"email"}},[e("a-input",{on:{keypress:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.handleSubmit()}},model:{value:t.form.email,callback:function(n){t.$set(t.form,"email",n)},expression:"form.email"}})],1),t._v(" "),e("a-form-model-item",{staticClass:"back-login"},[e("nuxt-link",{staticStyle:{"font-size":"16px"},attrs:{to:"/login"}},[e("a-icon",{attrs:{type:"arrow-left"}}),t._v("\n            "+t._s(t.$t("Trở về đăng nhập"))+"\n          ")],1)],1),t._v(" "),e("a-form-model-item",[e("a-button",{staticClass:"form-btn",attrs:{type:"primary",loading:t.btnLoading},on:{click:function(n){return t.handleSubmit()}}},[t._v("\n            "+t._s(t.$t("Gửi"))+"\n          ")])],1)],1)],1)])])}),o,!1,null,null,null);n.default=component.exports}}]);