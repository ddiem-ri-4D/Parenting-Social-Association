(window.webpackJsonp=window.webpackJsonp||[]).push([[29,9],{968:function(t,e,n){"use strict";n.r(e);n(46),n(339),n(198),n(78),n(33),n(93),n(94);var r={props:{users:{type:Array,default:function(){return[]}}},data:function(){return{listSearch:this.users||[],visible:!1,search:"",searching:!1}},watch:{users:function(t){this.listSearch=t}},methods:{handleOpenModal:function(){this.visible=!0},handleCancel:function(){},onInput:function(){var t=this,e=this.search;this.searching=!0,setTimeout((function(){e===t.search&&(t.searching=!1,t.listSearch=t.users.filter((function(e){return encodeURI(e.userName.toLowerCase()).includes(encodeURI(t.search))})))}),500)}}},c=n(27),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"list-user"},[r("div",{staticClass:"top"},[r("i",{staticClass:"fal fa-edit icon",on:{click:t.handleOpenModal}})]),t._v(" "),r("div",{staticClass:"users"},[t._l(t.$auth.user.userChat,(function(e,c){return r("nuxt-link",{key:c,staticClass:"users__item",attrs:{to:/message/+e._id}},[r("div",{staticClass:"users__item-avt"},[e.avatar?r("img",{attrs:{src:e.avatar,alt:"avatar"}}):r("img",{attrs:{src:n(338),alt:"avatar"}})]),t._v(" "),r("div",{staticClass:"users__item-info"},[r("p",{staticClass:"name"},[t._v(t._s(e.userName))]),t._v(" "),r("p",{staticClass:"last-mess"})])])})),t._v(" "),r("a-modal",{staticClass:"modal-new-message",attrs:{centered:"",title:t.$t("Tin nhắn mới"),footer:!1},on:{cancek:t.handleCancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("template",{slot:"closeIcon"},[r("i",{staticClass:"fal fa-times icon"})]),t._v(" "),r("div",{staticClass:"search"},[r("p",[t._v(t._s(t.$t("Tới"))+":")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"search-input",attrs:{type:"text",placeholder:t.$t("Tìm kiếm")},domProps:{value:t.search},on:{input:[function(e){e.target.composing||(t.search=e.target.value)},t.onInput]}})]),t._v(" "),r("div",{staticClass:"suggests"},[t.searching?r("div",t._l(5,(function(t){return r("a-skeleton",{key:t,attrs:{active:"",avatar:"",paragraph:{rows:1}}})})),1):t._l(t.listSearch,(function(e,c){return r("nuxt-link",{key:c,staticClass:"suggests__item",attrs:{to:"/message/"+e._id}},[r("div",{staticClass:"suggests__item-avt"},[e.avatar?r("img",{attrs:{src:e.avatar,alt:"avatar"}}):r("img",{attrs:{src:n(338),alt:"avatar"}})]),t._v(" "),r("p",{staticClass:"suggests__item-name"},[t._v(t._s(e.userName))])])}))],2)],2)],2)])}),[],!1,null,null,null);e.default=component.exports},989:function(t,e,n){"use strict";n.r(e);var r=n(20),c=(n(57),{components:{ListUser:n(968).default},data:function(){return{users:[]}},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.$store.getters.getUserGroup.length){e.next=3;break}return e.next=3,t.$store.dispatch("setUserGroup");case 3:t.users=t.$store.getters.getUserGroup;case 4:case"end":return e.stop()}}),e)})))()},head:function(){return{title:this.$t("Tin nhắn")+" | PSA   "}},methods:{handleOpenModal:function(){this.$refs.users.handleOpenModal()}}}),l=n(27),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"main-wrapper message"},[n("div",{staticClass:"box-mess"},[n("list-user",{ref:"users",attrs:{users:t.users}}),t._v(" "),n("div",{staticClass:"message__content"},[n("div",{staticClass:"message__content-box"},[n("div",{staticClass:"skeleton"},[n("p",{staticClass:"skeleton-title"},[t._v(t._s(t.$t("Tin nhắn của bạn")))]),t._v(" "),n("p",{staticClass:"skeleton-text"},[t._v(t._s(t.$t("Gửi ảnh và tin nhắn riêng tư cho bạn bè")))]),t._v(" "),n("button",{on:{click:t.handleOpenModal}},[t._v(t._s(t.$t("Gửi tin nhắn")))])])])])],1)])}),[],!1,null,null,null);e.default=component.exports}}]);